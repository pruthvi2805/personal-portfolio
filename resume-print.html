<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pruthvi Kauticwar - Resume</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    @page {
      size: A4;
      margin: 12mm 0;
    }

    body {
      font-family: 'Calibri', 'Segoe UI', 'Arial', sans-serif;
      font-size: 10.5pt;
      line-height: 1.35;
      color: #000;
      background: #fff;
      max-width: 210mm;
      margin: 0 auto;
      padding: 12mm 18mm;
    }

    /* Print instruction banner - minimal */
    .print-instruction {
      margin: -12mm -18mm 28px -18mm;
      padding: 12px 18mm;
      background: #FAFAF8;
      border-bottom: 1px solid #E8E6E3;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", sans-serif;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 16px;
    }

    .print-instruction span {
      font-size: 9pt;
      color: #888;
      margin-right: auto;
    }

    .print-instruction button {
      background: #C17B5F;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 5px;
      font-family: inherit;
      font-size: 9pt;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s ease;
    }

    .print-instruction button:hover {
      background: #A66248;
    }

    /* Loading state */
    .loading {
      text-align: center;
      padding: 40px;
      color: #888;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    }

    @media print {
      .print-instruction {
        display: none;
      }

      body {
        padding: 10mm 15mm;
      }
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 2px solid #2c3e50;
    }

    .header h1 {
      font-size: 22pt;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 6px;
      letter-spacing: 0.5px;
    }

    .header .title {
      font-size: 12pt;
      color: #34495e;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .contact-info {
      font-size: 9.5pt;
      color: #555;
      margin-top: 6px;
      line-height: 1.3;
    }

    .contact-info a {
      color: #2c3e50;
      text-decoration: none;
    }

    /* Section */
    .section {
      margin-bottom: 14px;
    }

    .section-title {
      font-size: 13pt;
      font-weight: 700;
      color: #2c3e50;
      text-transform: uppercase;
      margin-bottom: 8px;
      padding-bottom: 3px;
      border-bottom: 1.5px solid #2c3e50;
      letter-spacing: 0.5px;
    }

    /* Summary */
    .summary {
      font-size: 10pt;
      line-height: 1.45;
      color: #333;
      text-align: justify;
    }

    /* Experience */
    .job {
      margin-bottom: 12px;
      page-break-inside: avoid;
    }

    .job-header {
      margin-bottom: 4px;
    }

    .job-title {
      font-size: 11.5pt;
      font-weight: 700;
      color: #2c3e50;
    }

    .company {
      font-size: 10.5pt;
      font-weight: 600;
      color: #34495e;
    }

    .job-meta {
      font-size: 9.5pt;
      color: #666;
      font-style: italic;
      margin-bottom: 5px;
    }

    .job ul {
      margin-left: 18px;
      margin-top: 3px;
    }

    .job li {
      font-size: 10pt;
      margin-bottom: 3px;
      line-height: 1.35;
      color: #333;
    }

    /* Skills */
    .skills-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px 20px;
    }

    .skill-category {
      page-break-inside: avoid;
    }

    .skill-category-title {
      font-size: 10.5pt;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 3px;
    }

    .skill-category ul {
      margin-left: 18px;
    }

    .skill-category li {
      font-size: 9.5pt;
      margin-bottom: 1px;
      color: #333;
      line-height: 1.3;
    }

    /* Education & Certifications */
    .edu-cert {
      margin-bottom: 6px;
    }

    .edu-cert-title {
      font-size: 10.5pt;
      font-weight: 700;
      color: #2c3e50;
    }

    .edu-cert-detail {
      font-size: 9.5pt;
      color: #555;
    }

    /* Print optimization */
    @media print {
      body {
        padding: 10mm 15mm;
      }

      /* Keep section titles with their content */
      .section-title {
        page-break-after: avoid;
      }

      /* Keep skill categories together */
      .skill-category {
        page-break-inside: avoid;
      }
    }
  </style>
</head>
<body>

  <!-- Print Instruction Banner -->
  <div class="print-instruction">
    <span>Print preview</span>
    <button onclick="window.print()">Save as PDF</button>
  </div>

  <!-- Content will be dynamically loaded -->
  <div id="resume-content">
    <div class="loading">Loading resume...</div>
  </div>

  <script>
    async function loadResume() {
      try {
        const response = await fetch('resume.html');
        const html = await response.text();

        // Parse the HTML
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');

        // Build the resume content
        let content = '';

        // Header (static - contact info)
        content += `
          <div class="header">
            <h1>PRUTHVI KAUTICWAR</h1>
            <div class="title">Senior Pega System Architect</div>
            <div class="contact-info">
              Utrecht, Netherlands · <a href="mailto:me@kpruthvi.com">me@kpruthvi.com</a><br>
              <a href="https://nl.linkedin.com/in/pruthvikauticwar">linkedin.com/in/pruthvikauticwar</a> · <a href="https://github.com/pruthvi2805">github.com/pruthvi2805</a>
            </div>
          </div>
        `;

        // Professional Summary
        const summarySection = doc.querySelector('#professional-summary');
        if (summarySection) {
          const paragraphs = summarySection.querySelectorAll('p');
          let summaryText = '';
          paragraphs.forEach(p => {
            summaryText += p.textContent.trim() + ' ';
          });
          content += `
            <div class="section">
              <h2 class="section-title">Professional Summary</h2>
              <p class="summary">${summaryText.trim()}</p>
            </div>
          `;
        }

        // Technical Skills (before experience for better print layout)
        const skillsSection = doc.querySelector('#skills');
        if (skillsSection) {
          const skillGroups = skillsSection.querySelectorAll('.skill-group');
          let skillsHtml = '<div class="skills-grid">';

          skillGroups.forEach(group => {
            const title = group.querySelector('.skill-group__title')?.textContent || '';
            const pills = group.querySelectorAll('.skill-pill');

            skillsHtml += `<div class="skill-category"><div class="skill-category-title">${title}</div><ul>`;
            pills.forEach(pill => {
              skillsHtml += `<li>${pill.textContent}</li>`;
            });
            skillsHtml += '</ul></div>';
          });

          skillsHtml += '</div>';
          content += `
            <div class="section">
              <h2 class="section-title">Technical Skills</h2>
              ${skillsHtml}
            </div>
          `;
        }

        // Work Experience
        const experienceSection = doc.querySelector('#work-experience');
        if (experienceSection) {
          const jobs = experienceSection.querySelectorAll('.timeline-item');
          let jobsHtml = '';

          jobs.forEach(job => {
            const title = job.querySelector('.timeline-item__title')?.textContent || '';
            const subtitle = job.querySelector('.timeline-item__subtitle')?.textContent || '';
            const date = job.querySelector('.timeline-item__date')?.textContent || '';
            const listItems = job.querySelectorAll('.timeline-item__list li');

            // Parse subtitle into company and location
            const [company, location] = subtitle.split('·').map(s => s.trim());

            jobsHtml += `
              <div class="job">
                <div class="job-header">
                  <div class="job-title">${title}</div>
                  <div class="company">${company}${location ? ', ' + location : ''}</div>
                  <div class="job-meta">${date}</div>
                </div>
                <ul>
            `;

            listItems.forEach(li => {
              jobsHtml += `<li>${li.textContent}</li>`;
            });

            jobsHtml += '</ul></div>';
          });

          content += `
            <div class="section">
              <h2 class="section-title">Professional Experience</h2>
              ${jobsHtml}
            </div>
          `;
        }

        // Education
        const educationSection = doc.querySelector('#education');
        if (educationSection) {
          const eduItem = educationSection.querySelector('.education-item');
          if (eduItem) {
            const title = eduItem.querySelector('.education-item__title')?.textContent || '';
            const subtitle = eduItem.querySelector('.education-item__subtitle')?.textContent || '';

            content += `
              <div class="section">
                <h2 class="section-title">Education</h2>
                <div class="edu-cert">
                  <div class="edu-cert-title">${title}</div>
                  <div class="edu-cert-detail">${subtitle}</div>
                </div>
              </div>
            `;
          }
        }

        // Certifications
        const certsSection = doc.querySelector('#certifications');
        if (certsSection) {
          const certs = certsSection.querySelectorAll('.certification-item');
          let certsHtml = '';

          certs.forEach(cert => {
            const title = cert.querySelector('.certification-item__title')?.textContent || '';
            const meta = cert.querySelector('.certification-item__meta')?.textContent || '';

            certsHtml += `
              <div class="edu-cert">
                <div class="edu-cert-title">${title}</div>
                <div class="edu-cert-detail">${meta}</div>
              </div>
            `;
          });

          content += `
            <div class="section">
              <h2 class="section-title">Certifications</h2>
              ${certsHtml}
            </div>
          `;
        }

        // Insert the content
        document.getElementById('resume-content').innerHTML = content;

      } catch (error) {
        console.error('Error loading resume:', error);
        document.getElementById('resume-content').innerHTML = `
          <div class="loading" style="color: #c00;">
            Error loading resume. Please make sure you're viewing this from a web server.
          </div>
        `;
      }
    }

    // Load on page ready
    loadResume();
  </script>

</body>
</html>
